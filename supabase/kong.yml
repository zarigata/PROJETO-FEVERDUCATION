# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║ CODEX: Kong API Gateway Configuration                                     ║
# ║ Created by: Cascade AI Assistant                                          ║
# ║ Purpose: API Gateway configuration for Supabase services                   ║
# ╚═══════════════════════════════════════════════════════════════════════════╝

_format_version: "1.1"

services:
  - name: auth-v1
    url: http://auth:9999/verify
    routes:
      - name: auth-v1-route
        paths:
          - /auth/v1/verify
    plugins:
      - name: cors
  - name: auth-v1-admin
    url: http://auth:9999/admin
    routes:
      - name: auth-v1-admin-route
        paths:
          - /auth/v1/admin
    plugins:
      - name: cors
  - name: auth-v1-token
    url: http://auth:9999/token
    routes:
      - name: auth-v1-token-route
        paths:
          - /auth/v1/token
    plugins:
      - name: cors
  - name: rest
    url: http://postgres:5432/
    routes:
      - name: rest-route
        paths:
          - /rest/v1/
    plugins:
      - name: cors
  - name: meta
    url: http://meta:8080/
    routes:
      - name: meta-route
        paths:
          - /pg/
    plugins:
      - name: cors
